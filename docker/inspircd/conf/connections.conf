#-#-#-#-#-#-#-#-#-#-  CONNECTIONS CONFIGURATION  -#-#-#-#-#-#-#-#-#-#-#
#                                                                     #
#   This is where you can configure which connections are allowed     #
#   and denied access onto your server. The password is optional.     #
#   You may have as many of these as you require. To allow/deny all   #
#   connections, use a '*' or 0.0.0.0/0.                              #
#                                                                     #
#  -- It is important to note that connect tags are read from the  -- #
#     TOP DOWN. This means that you should have more specific deny    #
#    and allow tags at the top, progressively more general, followed  #
#        by a <connect allow="*"> (should you wish to have one).      #
#                                                                     #
# Connect blocks are searched twice for each user - once when the TCP #
# connection is accepted, and once when the user completes their      #
# registration. Most of the information (hostname, ident response,    #
# password, TLS (SSL) when using STARTTLS, etc) is only available     #
# during the second search. If you are trying to make a closed server #
# you will probably need a connect block just for user registration.  #
# This can be done by using <connect registered="no">                 #

# To enable IRCCloud on your network uncomment this:
#<include file="examples/providers/irccloud.conf.example">

<connect
         # name: Name to use for this connect block. Mainly used for
         # connect class inheriting.
         name="main"

         # allow: The IP address or hostname of clients that can use this
         # class. You can specify either an exact match, a glob match, or
         # a CIDR range here.
         allow="*"

         # hash: what hash this password is hashed with. requires the module
         # for selected hash (m_md5.so, m_sha256.so or m_ripemd160.so) be
         # loaded and the password hashing module (m_password_hash.so)
         # loaded. Options here are: "md5", "sha256" and "ripemd160".
         # Optional, but recommended. Create hashed passwords with:
         # /mkpasswd <hash> <password>
         hash="&connecthash;"

         # password: Password to use for this block/user(s)
         password="&connectpassword;"

         # maxchans: Maximum number of channels a user in this class
         # can be in at one time.
         maxchans="20"

         # timeout: How long the server will wait before disconnecting
         # a user if they do not do anything on connect.
         # (Note, this is a client-side thing, if the client does not
         # send /NICK, /USER or /PASS)
         timeout="20"

         # pingfreq: How often the server tries to ping connecting clients.
         pingfreq="2m"

         # hardsendq: maximum amount of data allowed in a client's send queue
         # before they are dropped. Keep this value higher than the length of
         # your network's /LIST or /WHO output, or you will have lots of
         # disconnects from sendq overruns!
         # Setting this to "1M" is equivalent to "1048576", "8K" is 8192, etc.
         hardsendq="1M"

         # softsendq: amount of data in a client's send queue before the server
         # begins delaying their commands in order to allow the sendq to drain
         softsendq="10240"

         # recvq: amount of data allowed in a client's queue before they are dropped.
         # Entering "10K" is equivalent to "10240", see above.
         recvq="10K"

         # threshold: This specifies the amount of command penalty a user is allowed to have
         # before being quit or fakelagged due to flood. Normal commands have a penalty of 1,
         # ones such as /OPER have penalties up to 10.
         #
         # If you are not using fakelag, this should be at least 20 to avoid excess flood kills
         # from processing some commands.
         threshold="10"

         # commandrate: This specifies the maximum rate that commands can be processed.
         # If commands are sent more rapidly, the user's penalty will increase and they will
         # either be fakelagged or killed when they reach the threshold
         #
         # Units are millicommands per second, so 1000 means one line per second.
         commandrate="1000"

         # fakelag: Use fakelag instead of killing users for excessive flood
         #
         # Fake lag stops command processing for a user when a flood is detected rather than
         # immediately killing them; their commands are held in the recvq and processed later
         # as the user's command penalty drops. Note that if this is enabled, flooders will
         # quit with "RecvQ exceeded" rather than "Excess Flood".
         fakelag="on"

         # localmax: Maximum local connections per IP.
         localmax="3"

         # globalmax: Maximum global (network-wide) connections per IP.
         globalmax="3"

         # resolvehostnames: If disabled, no DNS lookups will be performed on connecting users
         # in this class. This can save a lot of resources on very busy servers.
         resolvehostnames="yes"

         # useident: Defines if users in this class must respond to a ident query or not.
         useident="no"

         # usednsbl: Defines whether or not users in this class are subject to DNSBL. Default is yes.
         # This setting only has effect when m_dnsbl is loaded.
         usednsbl="&usednsbl;"

         # usests: Whether a STS policy should be advertised to users in this class.
         # This setting only has effect when the ircv3_sts module is loaded.
         #usests="no"

         # limit: How many users are allowed in this class
         limit="5000"

         # modes: User modes that are set on users in this block on connect.
         # Enabling this option requires that the conn_umodes module be loaded.
         # This entry is highly recommended to use for/with IP cloaking/masking.
         # For the example to work, this also requires that the cloaking
         # module be loaded as well.
         modes="+x">
